<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Elo Rating API</title>
    <style>
        body {
            font-family: system-ui, -apple-system, sans-serif;
            line-height: 1.6;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            color: #333;
        }
        pre {
            background: #f6f8fa;
            padding: 16px;
            border-radius: 6px;
            overflow-x: auto;
        }
        code {
            background: #f6f8fa;
            padding: 2px 4px;
            border-radius: 4px;
        }
        .endpoint {
            background: #e3f2fd;
            padding: 16px;
            border-radius: 6px;
            margin: 20px 0;
        }
        h1 { color: #1a73e8; }
        h2 { color: #2c5282; }
        .method {
            background: #4caf50;
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-weight: bold;
        }
    </style>
</head>
<body>
<h1>Elo Rating API</h1>
<p>Calculate Elo ratings for matches with any team size configuration.</p>

<div class="endpoint">
    <h2>Endpoint</h2>
    <span class="method">POST</span> <code>/calculate</code>
</div>

<h2>Request Format</h2>
<pre>
{
    "players": [
        { "rating": number, "k": number, "team": number },
        ...
    ],
    "winner": number  // Index of winning team
}</pre>

<h2>Examples</h2>

<h3>1. 1v1 Match</h3>
<pre>
// Request
{
    "players": [
        { "rating": 1200, "k": 32, "team": 0 },
        { "rating": 1400, "k": 16, "team": 1 }
    ],
    "winner": 0
}

// Response
{
    "players": [
        { "rating": 1200, "k": 32, "team": 0, "newRating": 1227, "ratingChange": 27 },
        { "rating": 1400, "k": 16, "team": 1, "newRating": 1373, "ratingChange": -27 }
    ]
}</pre>

<h3>2. 2v2 Match</h3>
<pre>
// Request
{
    "players": [
        { "rating": 1200, "k": 32, "team": 0 },
        { "rating": 1300, "k": 32, "team": 0 },
        { "rating": 1400, "k": 16, "team": 1 },
        { "rating": 1500, "k": 16, "team": 1 }
    ],
    "winner": 1
}</pre>

<h2>K-factor Guidelines</h2>
<ul>
    <li>New players: K = 40 (faster rating adjustments)</li>
    <li>Regular players: K = 32</li>
    <li>Experienced players: K = 24</li>
    <li>Elite players: K = 16</li>
    <li>Top players: K = 10 (slower rating adjustments)</li>
</ul>

<h2>Validation</h2>
<ul>
    <li>At least 2 players required</li>
    <li>Players must be from at least 2 different teams</li>
    <li>Each player must have rating, k, and team values</li>
    <li>Winner index must be valid</li>
</ul>

</body>
</html>
